import{r as t,j as e,u as P}from"./index-cc8122ae.js";import{B as a,u as S}from"./globalStore-6900467b.js";import"./index-2e4736b8.js";import"./extends-98964cd2.js";import"./hox-root-a95c0023.js";const T="home-xWFpq",z="box-6FrZa",E="modal-m3i4q",b={home:T,box:z,modal:E},H="page-table-7JV0a",q="box--89Q4",w="child-q3jcT",I="box-one-pHaOo",V="modal-0z7Ll",i={"page-table":"page-table-7JV0a",pageTable:H,box:q,child:w,"box-one":"box-one-pHaOo",boxOne:I,modal:V},_=()=>{const{countState:l,countDispatch:s}=t.useContext(x),n=()=>{s({type:"ADD"})};return e.jsxs("div",{className:"child",children:[e.jsx("div",{children:l.count+"_"+l.age}),e.jsx(a,{onClick:n,children:"按钮ADD"})]})},$=l=>{const{a:s,setA:n}=t.useContext(x);t.useState(!1);const d=()=>{n("wed")};return e.jsxs("div",{className:i.pageTable,children:[e.jsx("div",{className:i.box}),e.jsx("div",{className:i.box,children:e.jsx("div",{className:i.child})}),e.jsxs("div",{className:i.boxOne,children:[e.jsx(a,{onClick:d,children:"测试"}),e.jsx("div",{style:{color:"#fff"},children:"page-a:"+s}),e.jsx("div",{className:i.child})]}),e.jsx(_,{})]})},v=t.forwardRef((l,s)=>e.jsx("div",{className:"custInput",children:e.jsx("input",{type:"text",ref:s})}));v.defaultProps={custCount:0};const B=t.memo(v),x=t.createContext(null),F=()=>{const l=P(),s=t.useRef(null),[n,d]=t.useState(0),u=t.useRef(0),[J,C]=t.useState(!1),[r,h]=t.useState("abc");t.useMemo(()=>r,[r]),t.useCallback(o=>h(o),[]);const{countState:p,countDispatch:m}=S();t.useEffect(()=>{s.current.focus(),s.current.value=123},[]),t.useEffect(()=>{s.current.value=r},[r]);const y=()=>{l("/detail")},g=()=>{C(!0)},N=()=>{u.current=u.current+1},R=()=>{d(12)},D=()=>{m({type:"ADD"})},k=[1,2,3,4],A=new Proxy(k,{get(o,c){return Reflect.get(o,c)},set(o,c,O){return Reflect.set(o,c,O)},deleteProperty(o,c){return Reflect.deleteProperty(o,c)}});A[1]=5;function f(o,c){return o[c]}const j={name:"hzlzh",age:123};return f(j,"name"),f(j,"age"),e.jsxs("div",{className:b.home,children:[e.jsx("div",{children:"home-count:"+p.count}),e.jsx(a,{onClick:D,children:"有嵌套的reducer共享"}),e.jsx("div",{children:u.current}),e.jsx(a,{onClick:N,children:"改变countRef"}),e.jsx("div",{className:[b.box,"box"].join(" "),children:"home页面"}),e.jsx(a,{type:"primary",onClick:y,children:"去详情页"}),e.jsx(a,{type:"primary",onClick:g,children:"弹框"}),e.jsx(x.Provider,{value:{a:r,setA:h,countState:p,countDispatch:m},children:e.jsx($,{time:n})}),e.jsx(B,{custCount:n,ref:s}),e.jsx("div",{style:{color:"#fff"},children:"home-a:"+r}),e.jsx("div",{style:{color:"#fff"},children:"time:"+n}),e.jsx(a,{type:"primary",onClick:R,children:"改变prop"})]})};F.defaultProps={user:"hzlzh"};export{x as HomeContext,F as default};
