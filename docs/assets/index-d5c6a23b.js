import{r as o,j as e,u as S}from"./index-734b79ba.js";import{B as r,u as _}from"./globalStore-cad78993.js";import"./index-2e4736b8.js";import"./extends-98964cd2.js";import"./hox-root-998e5678.js";const z="home-xWFpq",E="box-6FrZa",H="modal-m3i4q",v={home:z,box:E,modal:H},q="page-table-7JV0a",w="box--89Q4",I="child-q3jcT",V="box-one-pHaOo",$="modal-0z7Ll",i={"page-table":"page-table-7JV0a",pageTable:q,box:w,child:I,"box-one":"box-one-pHaOo",boxOne:V,modal:$},B=()=>{console.log(o.useContext(d));const{countState:s,countDispatch:t}=o.useContext(d),c=()=>{t({type:"ADD"})};return e.jsxs("div",{className:"child",children:[e.jsx("div",{children:s.count+"_"+s.age}),e.jsx(r,{onClick:c,children:"按钮ADD"})]})},F=s=>{console.log("pageTable:",s);const{a:t,setA:c}=o.useContext(d);o.useState(!1);const x=()=>{c("wed")};return e.jsxs("div",{className:i.pageTable,children:[e.jsx("div",{className:i.box}),e.jsx("div",{className:i.box,children:e.jsx("div",{className:i.child})}),e.jsxs("div",{className:i.boxOne,children:[e.jsx(r,{onClick:x,children:"测试"}),e.jsx("div",{style:{color:"#fff"},children:"page-a:"+t}),e.jsx("div",{className:i.child})]}),e.jsx(B,{})]})},C=o.forwardRef((s,t)=>(console.log("cust页面"),console.log("props:",s),console.log("ref:",t),e.jsx("div",{className:"custInput",children:e.jsx("input",{type:"text",ref:t})})));C.defaultProps={custCount:0};const J=o.memo(C),M=function(s){console.log(this)},d=o.createContext(null),G=()=>{const s=S(),t=o.useRef(null),[c,x]=o.useState(0),u=o.useRef(0),[L,y]=o.useState(!1),[l,m]=o.useState("abc");o.useMemo(()=>l,[l]),o.useCallback(n=>m(n),[]);const{countState:p,countDispatch:f}=_();o.useEffect(()=>{console.log(M()),t.current.focus(),t.current.value=123},[]),o.useEffect(()=>{console.log("home:",l),t.current.value=l},[l]);const N=()=>{s("/detail")},R=()=>{y(!0)},D=()=>{u.current=u.current+1,console.log("countRef:",u)},k=()=>{x(12)},T=()=>{f({type:"ADD"})},h=[1,2,3,4],g=new Proxy(h,{get(n,a){return Reflect.get(n,a)},set(n,a,P){return Reflect.set(n,a,P)},deleteProperty(n,a){return Reflect.deleteProperty(n,a)}});console.log("arr_1:",h),g[1]=5,console.log("arr_p",g),console.log("arr_1",h);function j(n,a){return n[a]}const b={name:"hzlzh",age:123},A=j(b,"name"),O=j(b,"age");return console.log("n:",A),console.log("age:",O),e.jsxs("div",{className:v.home,children:[e.jsx("div",{children:"home-count:"+p.count}),e.jsx(r,{onClick:T,children:"有嵌套的reducer共享"}),e.jsx("div",{children:u.current}),e.jsx(r,{onClick:D,children:"改变countRef"}),e.jsx("div",{className:[v.box,"box"].join(" "),children:"home页面"}),e.jsx(r,{type:"primary",onClick:N,children:"去详情页"}),e.jsx(r,{type:"primary",onClick:R,children:"弹框"}),e.jsx(d.Provider,{value:{a:l,setA:m,countState:p,countDispatch:f},children:e.jsx(F,{time:c})}),e.jsx(J,{custCount:c,ref:t}),e.jsx("div",{style:{color:"#fff"},children:"home-a:"+l}),e.jsx("div",{style:{color:"#fff"},children:"time:"+c}),e.jsx(r,{type:"primary",onClick:k,children:"改变prop"})]})};G.defaultProps={user:"hzlzh"};export{d as HomeContext,G as default};
